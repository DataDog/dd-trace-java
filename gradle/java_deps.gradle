apply plugin: 'groovy'

dependencies {
  if ((project.name == "gradle" && project.parent.name == "dd-smoke-tests") ||
    (project.name == "spock-junit-5")
    ) {
    logger.info("Skip Groovy 4 setup for module: `:${project.parent.name}:${project.name}`")
  } else {
    testImplementation libs.bundles.groovy
    testImplementation libs.bundles.spock
  }

  testImplementation libs.bundles.test.logging

  // JUnit and Mockito compatible with Spock 2.4.0
  testRuntimeOnly libs.bundles.junit5
  testRuntimeOnly libs.bundles.junit.platform
  testRuntimeOnly libs.mokito.core
}
