plugins {
  id 'idea'
  id 'java-test-fixtures'
}


apply from: "$rootDir/gradle/java.gradle"

description = 'iast-smoke-tests-utils-java-17'

idea {
  module {
    jdkName = '17'
  }
}

dependencies {
  api project(':dd-smoke-tests')
  compileOnly group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.2.0.RELEASE'

  testFixturesImplementation testFixtures(project(":dd-smoke-tests:iast-util"))
  testFixturesImplementation(libs.javaparser)
}

tasks.named("compileJava", JavaCompile) {
  configureCompiler(it, 17, JavaVersion.VERSION_17)
}

tasks.named("forbiddenApisMain") {
  failOnMissingClasses = false
}
