plugins {
  id 'idea'
  id 'java-test-fixtures'
}


apply from: "$rootDir/gradle/java.gradle"

description = 'iast-smoke-tests-utils-java-11'

idea {
  module {
    jdkName = '11'
  }
}

dependencies {
  api project(':dd-smoke-tests')
  compileOnly group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.2.0.RELEASE'

  testFixturesImplementation testFixtures(project(":dd-smoke-tests:iast-util"))

  testFixturesCompileOnly(libs.bundles.groovy)
  testFixturesCompileOnly(libs.bundles.spock)
}

tasks.named("compileJava", JavaCompile) {
  configureCompiler(it, 11, JavaVersion.VERSION_11)
}

tasks.named("forbiddenApisMain") {
  failOnMissingClasses = false
}
