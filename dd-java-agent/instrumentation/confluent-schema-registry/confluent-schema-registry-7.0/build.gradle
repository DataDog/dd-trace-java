apply from: "$rootDir/gradle/java.gradle"

muzzle {
  pass {
    group = "io.confluent"
    module = "kafka-schema-registry-client"
    versions = "[7.0.0,)"
    assertInverse = true
    extraRepository('confluent', 'https://packages.confluent.io/maven/')
  }
}

dependencies {
  compileOnly project(':dd-java-agent:instrumentation:kafka:kafka-common')
  compileOnly group: 'io.confluent', name: 'kafka-schema-registry-client', version: '7.0.0'
  compileOnly group: 'io.confluent', name: 'kafka-avro-serializer', version: '7.0.0'
  compileOnly group: 'io.confluent', name: 'kafka-protobuf-serializer', version: '7.0.0'
  compileOnly group: 'org.apache.kafka', name: 'kafka-clients', version: '3.0.0'

  testImplementation project(':dd-java-agent:instrumentation:kafka:kafka-common')
  testImplementation group: 'io.confluent', name: 'kafka-schema-registry-client', version: '7.5.2'
  testImplementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '7.5.2'
  testImplementation group: 'io.confluent', name: 'kafka-protobuf-serializer', version: '7.5.1'
  testImplementation group: 'org.apache.kafka', name: 'kafka-clients', version: '3.5.0'
  testImplementation group: 'org.apache.avro', name: 'avro', version: '1.11.0'
}

