ext {
  minJavaVersionForTests = JavaVersion.VERSION_11
}

muzzle {
  pass {
    coreJdk()
  }
}

apply from: "$rootDir/gradle/java.gradle"
apply plugin: "idea"

tasks.withType(JavaCompile) {
  options.release = 11
}

[compileJava, compileTestJava].each {
  it.configure {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
    setJavaVersion(it, 11)
  }
}

idea {
  module {
    jdkName = '11'
  }
}
