muzzle {
  pass {
    group = 'org.jetbrains.kotlinx'
    module = 'kotlinx-coroutines-core'
    versions = '[1.0.0,1.3.8)'
  }
  // Module name change with 1.3.9
  pass {
    group = 'org.jetbrains.kotlinx'
    module = 'kotlinx-coroutines-core-jvm'
    versions = '[1.3.9,)'
  }
}

apply from: "$rootDir/gradle/java.gradle"
apply from: "$rootDir/gradle/test-with-kotlin.gradle"

addTestSuiteForDir('latestDepTest', 'test')

dependencies {
  def coroutinesVersion = '1.3.9'
  compileOnly libs.kotlin
  compileOnly "org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:$coroutinesVersion"

  testImplementation libs.kotlin
  testImplementation "org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:$coroutinesVersion"
  testImplementation project(':dd-java-agent:instrumentation:trace-annotation')

  latestDepTestImplementation group: 'org.jetbrains.kotlinx', name: "kotlinx-coroutines-core", version: '+'
}
