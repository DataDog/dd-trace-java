apply from: "$rootDir/gradle/java.gradle"
apply plugin: 'idea'

muzzle {
  pass {
    group = "com.openai"
    module = "openai-java"
    versions = "[0.45.0,3)"
    // TODO com.openai.models.chat.completions.ChatCompletionMessageToolCall changes in v3
    // assertInverse = true
  }
}

addTestSuiteForDir('latestDepTest', 'test')

dependencies {
  compileOnly group: 'com.openai', name: 'openai-java', version: '0.45.0'
  implementation project(':internal-api')

  testImplementation group: 'com.openai', name: 'openai-java', version: '0.45.0'
  latestDepTestImplementation group: 'com.openai', name: 'openai-java', version: '+'

  testImplementation project(':dd-java-agent:instrumentation:okhttp:okhttp-3.0')

  testImplementation project(':dd-java-agent:agent-llmobs:llmobs-test-fixtures')
}

