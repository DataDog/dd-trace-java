apply from: "$rootDir/gradle/java.gradle"

muzzle {
  pass {
    group = "io.netty"
    module = "netty-buffer"
    versions = "[4.0.0.Final,)"
    assertInverse = true
  }
}

addTestSuiteForDir('latestDep4Test', 'test')
addTestSuiteForDir('latestDepTest', 'test')

dependencies {
  compileOnly instrumentedLibs.netty.buffer.v400

  testImplementation instrumentedLibs.netty.buffer.v400

  latestDep4TestImplementation instrumentedLibs.netty.buffer.latest.v4x
  latestDepTestImplementation instrumentedLibs.netty.buffer.latest
}

tasks.named("latestDepTest", Test) {
  dependsOn "latestDep4Test"
}
