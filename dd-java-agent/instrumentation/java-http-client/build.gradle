ext {
  minJavaVersionForTests = JavaVersion.VERSION_11
}

apply from: "$rootDir/gradle/java.gradle"
apply plugin: "idea"

muzzle {
  pass {
    coreJdk('11')
  }
}

tasks.named("compileMain_java11Java", JavaCompile).configure {
  it.sourceCompatibility = JavaVersion.VERSION_11
  it.targetCompatibility = JavaVersion.VERSION_11
  setJavaVersion(it, 11)
}

tasks.named("compileTestGroovy", GroovyCompile).configure {
  javaLauncher = getJavaLauncherFor(11)
}

tasks.named("forbiddenApisMain_java11").configure {
  failOnMissingClasses = false
}

idea {
  module {
    jdkName = '11'
  }
}


