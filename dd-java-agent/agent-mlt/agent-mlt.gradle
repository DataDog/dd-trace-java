plugins {
  id "com.github.johnrengelman.shadow"
}
apply from: "$rootDir/gradle/java.gradle"

dependencies {
  compile deps.slf4j
  compile project(':dd-trace-core')
  compile project(':internal-api')
  compile project(':utils:mlt-support')

  testCompile deps.junit5
  testCompile deps.guava
  testCompile deps.mockito
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

shadowJar {
  configurations = [project.configurations.compile]
  archiveClassifier.set('')

  dependencies deps.sharedInverse
  dependencies {
    include(project(':utils:mlt-support'))
    include(dependency('it.unimi.dsi:fastutil:8.2.1'))
  }
  minimize()
}
